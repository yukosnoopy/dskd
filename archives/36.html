<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width" name="viewport">
    <title>ブログを初めてBEM化した時の流れ - dskd</title>
    <meta content="/img/blog-cover.png" itemprop="image">
    <meta content="BEM神の声が聞こえているか" name="description">
    <meta content="http://dskd.jp/archives/36.html" property="og:url">
    <meta content="ブログを初めてBEM化した時の流れ" property="og:title">
    <meta content="BEM神の声が聞こえているか" property="og:description">
    <meta content="/img/blog-cover.png" property="og:image">
    <meta content="article" property="og:type">
    <meta content="ja_JP" property="og:locale">
    <meta content="dskd" property="og:site_name">
    <link href="http://dskd.jp/archives/36.html" rel="canonical" itemprop="url">
    <link href="/img/blog-icon.png" rel="apple-touch-icon-precomposed">
    <link href="/feed" rel="alternate" type="application/rss+xml">
    <link href="/css/style.css" rel="stylesheet" media="only screen">
  </head>
  <body>
    <header role="banner" class="global-header">
      <h1 class="logo">
        <a href="/" class="logo-link">
          <img alt="dskd" src="/img/logo.svg" width="100" height="60" class="logo__img">
        </a>
      </h1>
      <nav role="navigation" class="site-nav">
        <ul class="site-nav-list">
          <li class="site-nav-list__item">
            <a href="/archives/" class="site-nav-list-link">all posts</a>
          </li>
          <li class="site-nav-list__item">
            <a href="/about.html" class="site-nav-list-link">what's dskd?</a>
          </li>
        </ul>
      </nav>
    </header>
    <main class="contents">
      <article class="post">
        <footer class="post__footer">
          <time datetime="2013-12-04T09:54:00+09:00" class="post-timestamp">2013-12-04</time>
          <p class="post-tag">
            <a href="/archives/advent_calendar.html" class="tag-link">Advent Calendar</a>,
            <a href="/archives/bem.html" class="tag-link">BEM</a>,
            <a href="/archives/css.html" class="tag-link">CSS</a>,
            <a href="/archives/html.html" class="tag-link">HTML</a>
          </p>
        </footer>
        <h1 itemprop="name" class="post__title">ブログを初めてBEM化した時の流れ</h1>
        <div itemprop="articleBody" class="post__body">
          <p>
            <a href="http://www.adventar.org/calendars/61">BEM Advent Calendar 2013</a> ４日目のエントリです。前回の記事があまりBEMれてないというBEM神の声を聞いたので、当ブログをBEM化した時の流れを書いていきます。</p>
          <p>まずはデザインを決めないとねということで、シングルカラムを継承しつつ、以前より色を明るくしてコントラストも抑えてみました。カラースキームなどは深く考えていないので<code>:visited</code>にピンク系とか<code>:hover</code>に黄緑とか唐突に出てきます。センスなくてつらい。</p>
          <h2 id="block-">Blockを決める</h2>
          <p>デザインを決めたあと、まずBEMにおけるBlockとなるエリアを考えます。</p>
          <ul>
            <li>ヘッダー</li>
            <li>記事リスト</li>
            <li>ページャー</li>
            <li>アーカイブス</li>
            <li>カテゴリー</li>
            <li>オーサー</li>
            <li>コピーライト</li>
          </ul>
          <p>デザインはシングルカラムのスタック構造なのでここは簡単でした。dskd.jpは検索フォームやメニューなんていう便利なものはないです。一般的なサイトですと、</p>
          <ul>
            <li>検索フォーム</li>
            <li>メニュー</li>
            <li>サブメニュー</li>
            <li>左カラム</li>
            <li>右ラム</li>
            <li>ソーシャルツール</li>
            <li>レコメンド</li>
            <li>ランキング</li>
            <li>フィードバック</li>
            <li>広告</li>
            <li>フッター</li>
          </ul>
          <p>などいろいろなBlockが考えられます。いずれにしてもトップレベルBlockを作るだけならさほど難しくありません。この時点では「BEM余裕じゃね？」て思っていたのですがそんなに甘くはありませんでした。</p>
          <h2 id="element-">Elementを決める</h2>
          <p>Blockの次はElementです。</p>
          <ul>
            <li>ヘッダー
              <ul>
                <li>ロゴ</li>
              </ul>
            </li>
            <li>記事リスト
              <ul>
                <li>記事
                  <ul>
                    <li>タイトル</li>
                    <li>日付</li>
                    <li>カテゴリ</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>ページャー
              <ul>
                <li>ラベル</li>
                <li>ページリスト</li>
                <li>ページリンク</li>
              </ul>
            </li>
            <li>カテゴリー
              <ul>
                <li>ラベル</li>
                <li>カテゴリーリスト
                  <ul>
                    <li>カテゴリーリンク</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>オーサー
              <ul>
                <li>ラベル</li>
                <li>名前</li>
                <li>メアド</li>
                <li>アカウントリスト
                  <ul>
                    <li>アカウントリンク</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>コピーライト
              <ul>
                <li>ラベル</li>
                <li>記載</li>
              </ul>
            </li>
          </ul>
          <p>普通ですね。一旦、クラス名を考えて行きます。</p>
          <ul>
            <li>ヘッダー：<code>header</code>
              <ul>
                <li>ロゴ：<code>header__logo</code></li>
              </ul>
            </li>
            <li>記事リスト：<code>article</code>
              <ul>
                <li>記事：<code>article__item</code>
                  <ul>
                    <li>タイトル：<code>article__item__title</code></li>
                    <li>日付：<code>article__item__pubtime</code></li>
                    <li>カテゴリ：<code>article__item__category</code></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>ページャー：<code>pager</code>
              <ul>
                <li>ラベル：<code>pager__head</code></li>
                <li>ページリスト：<code>pager__list</code>
                  <ul>
                    <li>ページリンク：<code>pager__list__item</code></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>カテゴリー：<code>category</code>
              <ul>
                <li>ラベル：<code>category__head</code></li>
                <li>カテゴリーリスト：<code>category__list</code>
                  <ul>
                    <li>カテゴリーリンク：<code>category__list__item</code></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>オーサー：<code>author</code>
              <ul>
                <li>ラベル：<code>author__head</code></li>
                <li>名前：<code>author__name</code></li>
                <li>メアド：<code>author__mail</code></li>
                <li>アカウントリスト：<code>author__account</code>
                  <ul>
                    <li>アカウントリンク：<code>author__account__item</code></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>コピーライト：<code>credit</code>
              <ul>
                <li>ラベル：<code>credit__head</code></li>
                <li>記載：<code>credit__item</code></li>
              </ul>
            </li>
          </ul>
          <p>とりあえずクラスを振り終えたましたが、階層を２つ潜った時に Block
            <strong>Element</strong>Element となっているのがムズムズします。しかし歯ぎしりするにはまだ早い。次はマークアップへ移りましょう。</p>
          <h2 id="-">とりあえずマークアップでデザインを完成させる。</h2>
          <p>デザインを反映させて<code>&lt;body&gt;</code>内を
            <a href="/misc/getting-start-bem/planemarkup.txt">クラスなしでマークアップしたものはこちら</a>です。</p>
          <p>前述で準備しておいたElementとは構造がかなり違いますね。デザインの制約もあるので当たり前ですね。コンテンツ構造だけではBEMれないのがBEMの歯ぎしりポイントでもあります。特に記事リストではセマンティック要素を多用しているせいもあり、カテゴリーリンクは６階層も潜ってしまっています。</p>
          <p>記事リストBlockを抜粋してみます。</p> <pre><code data-language="html">&lt;div&gt;
  &lt;article&gt;
    &lt;header&gt;
      &lt;h2&gt;記事見出し&lt;/a&gt;&lt;/h2&gt;
    &lt;/header&gt;
    &lt;footer&gt;
      &lt;time&gt;0000/00/00&lt;br&gt;00:00&lt;/time&gt;
      &lt;dl&gt;
        &lt;dt&gt;category :&lt;/dt&gt;
        &lt;dd&gt;
          &lt;a href=""&gt;cate name&lt;/a&gt;, &lt;a href=""&gt;cate name&lt;/a&gt;
        &lt;/dd&gt;
      &lt;/dl&gt;
    &lt;/footer&gt;
  &lt;/article&gt;
  :
  :
&lt;/div&gt;</code></pre>
          <p>これら全てをBEMツリーで説明できるようにしようと考えると、発狂しそうになりますね。</p>
          <p>いろいろ考えた結果、こうしました。</p> <pre><code data-language="html">&lt;div class="article"&gt;
  &lt;article class="article__item"&gt;
    &lt;header class="article-header"&gt;
      &lt;h2 class="article-header__item"&gt;記事見出し&lt;/a&gt;&lt;/h2&gt;
    &lt;/header&gt;
    &lt;footer class="article-footer"&gt;
      &lt;time class="article-footer__pubtime"&gt;0000/00/00&lt;br&gt;00:00&lt;/time&gt;
      &lt;dl class="article-footer__categories"&gt;
        &lt;dt class="article-footer__categories-title"&gt;category :&lt;/dt&gt;
        &lt;dd class="article-footer__categories-item"&gt;
          &lt;a href=""&gt;cate name&lt;/a&gt;, &lt;a href=""&gt;cate name&lt;/a&gt;
        &lt;/dd&gt;
      &lt;/dl&gt;
    &lt;/footer&gt;
  &lt;/article&gt;
  :
  :
&lt;/div&gt;</code></pre>
          <p><code>&amp;lt;header&amp;gt;</code>と<code>&amp;lt;footer&amp;gt;</code>を<code>.article-header</code>,<code>.article-footer</code>としました。Block
            <strong>Element</strong>Elementをやめ、Block &gt; Block__ElementのようにElementの上は必ず Block とするようにしました。</p>
          <p>このようなルールを適応してもいいのか、少し疑問が残っています。というのも、<code>.article-header__item</code>だけ抜き出した時、<code>.article-header</code>という親要素と子要素である<code>__item</code>があることは説明できますが、<code>.article-header</code>の親に<code>.article</code>があるかどうかは説明できないように思うからです。しかし、<code>.article</code>内のBlockは<code>.article-</code>だよという接頭句を作ったと見れば、少なくともそのマークアップ構造が守られている間はBEM道を歩いていると言えるのではないでしょうか。試しにクラス名だけ抜き出してみます。</p>
          <pre><code data-language="css">.article
.article__item
.article-header
.article-header__item
.article-footer
.article-footer__pubtime
.article-footer__categories
.article-footer__categories-title
.article-footer__categories-item</code></pre>
          <p>そんなに悪い感じはしないように思います。長くなってしまったので続きは明後日に！</p>
          <hr>
          <p>５日目は
            <a href="http://www.adventar.org/users/2">げこたん</a>さん（２日ぶり２度目）です。よろしくお願いします。</p>
        </div>
        <aside class="post__contribute">
          <a href="https://github.com/oti/dskd/blob/master/src/md/post/36.md" class="contribute">Patches welcome!</a>
        </aside>
        <aside role="complementary" class="post__social">
          <ul class="social-list">
            <li class="social-list__item social-list__item--twitter">
              <a href="https://twitter.com/intent/tweet?text=%E3%83%96%E3%83%AD%E3%82%B0%E3%82%92%E5%88%9D%E3%82%81%E3%81%A6BEM%E5%8C%96%E3%81%97%E3%81%9F%E6%99%82%E3%81%AE%E6%B5%81%E3%82%8C&amp;url=http%3A%2F%2Fdskd.jp%2Farchives%2F36.html&amp;via=dskd_jp&amp;related=o_ti"
                class="social-link">Tweet</a>
            </li>
            <li class="social-list__item social-list__item--facebook">
              <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fdskd.jp%2Farchives%2F36.html" class="social-link">Share on Facebook</a>
            </li>
            <li class="social-list__item social-list__item--hatebu">
              <a href="http://b.hatena.ne.jp/my/add.confirm?title=%E3%83%96%E3%83%AD%E3%82%B0%E3%82%92%E5%88%9D%E3%82%81%E3%81%A6BEM%E5%8C%96%E3%81%97%E3%81%9F%E6%99%82%E3%81%AE%E6%B5%81%E3%82%8C&amp;url=http%3A%2F%2Fdskd.jp%2Farchives%2F36.html" class="social-link">Bookmark on Hatena</a>
            </li>
          </ul>
        </aside>
      </article>
      <nav class="neighbor">
        <ul class="neighbor-list">
          <li class="neighbor-list__item neighbor-list__item--newer">
            <a href="/archives/37.html" class="neighbor-link">内包要素の数が変動しても僕には擬似クラスと間接セレクタがある</a>
          </li>
          <li class="neighbor-list__item neighbor-list__item--older">
            <a href="/archives/35.html" class="neighbor-link">もっと広まって欲しいCSS</a>
          </li>
        </ul>
      </nav>
    </main>
    <footer class="global-footer">
      <p class="author">Made by
        <adress class="author__address">
          <a href="mailto:otiext@gmail.com">oti</a>
        </adress>.</p>
      <ul class="subinfo">
        <li class="subinfo__item">
          <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license" class="subinfo-link">
            <small class="subinfo-license">CC BY-NC</small>
          </a>
        </li>
        <li class="subinfo__item">
          <a href="/feed" alternate="application/rss+xml" class="subinfo-link">RSS</a>
        </li>
      </ul>
    </footer>
  </body>
</html>